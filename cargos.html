<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto SEIS - Sistema de Cargos</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="css/cargos-sanciones.css">
</head>
<body>
    <div class="page-container cargos-page">
        <div class="container">
            <div class="page-header cargos-header">
                <h2>üëî SISTEMA DE CARGOS Y A√ëOS DE SERVICIO</h2>
                <p>Registro y Control de Cargos Desempe√±ados por Bomberos</p>
            </div>

            <div class="page-content">
                <div id="mensajeCargos" class="mensaje-global" style="display: none;"></div>

                <div class="bombero-info">
                    <h3>üë§ Informaci√≥n del Bombero</h3>
                    <div class="bombero-datos" id="bomberoDatosCargos">
                        <!-- Datos cargados por JavaScript -->
                    </div>
                </div>

                <div class="form-container">
                    <h3>üìã Registro de Nuevo Cargo</h3>
                    
                    <form id="formCargo">
                        <input type="hidden" id="bomberoCargoId" name="bomberoCargoId">
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="a√±oCargo" class="opcional">A√±o</label>
                                <input type="number" id="a√±oCargo" name="a√±oCargo" min="1950" max="2030"
                                       placeholder="Ej: 2024">
                                <div class="error" id="error-a√±oCargo"></div>
                            </div>

                            <div class="form-group">
                                <label for="tipoCargo" class="opcional">Cargo</label>
                                <select id="tipoCargo" name="tipoCargo">
                                    <option value="">Seleccione un cargo (opcional)</option>
                                    <option value="Capit√°n">Capit√°n</option>
                                    <option value="Teniente Primero">Teniente Primero</option>
                                    <option value="Teniente Segundo">Teniente Segundo</option>
                                    <option value="Teniente Tercero">Teniente Tercero</option>
                                    <option value="Teniente Cuarto">Teniente Cuarto</option>
                                    <option value="Tesorero">Tesorero</option>
                                    <option value="Secretario">Secretario</option>
                                    <option value="Jefe de M√°quinas">Jefe de M√°quinas</option>
                                    <option value="Ayudante de Compa√±√≠a">Ayudante de Compa√±√≠a</option>
                                    <option value="Director">Director</option>
                                    <option value="Intendente">Intendente</option>
                                </select>
                                <div class="error" id="error-tipoCargo"></div>
                            </div>

                            <div class="form-group">
                                <label for="fechaInicioCargo" class="opcional">Desde</label>
                                <input type="date" id="fechaInicioCargo" name="fechaInicioCargo">
                                <div class="error" id="error-fechaInicioCargo"></div>
                            </div>

                            <div class="form-group">
                                <label for="fechaFinCargo" class="opcional">Hasta</label>
                                <input type="date" id="fechaFinCargo" name="fechaFinCargo">
                                <div class="error" id="error-fechaFinCargo"></div>
                            </div>

                            <div class="form-group">
                                <label for="premioA√±oServicio" class="opcional">Premio A√±o Servicio</label>
                                <input type="text" id="premioA√±oServicio" name="premioA√±oServicio"
                                       placeholder="Especificar premio o reconocimiento">
                                <div class="error" id="error-premioA√±oServicio"></div>
                            </div>

                            <div class="form-group full-width">
                                <label for="observacionesCargo" class="opcional">Observaciones / Otros Cargos Ocupados en el Mismo A√±o Calendario</label>
                                <textarea id="observacionesCargo" name="observacionesCargo" rows="3" 
                                          placeholder="Observaciones adicionales u otros cargos desempe√±ados en el mismo a√±o"></textarea>
                                <div class="error" id="error-observacionesCargo"></div>
                            </div>

                            <div class="info-nota">
                                üí° <strong>Nota:</strong> Debe completar al menos uno de los siguientes campos: <strong>A√±o</strong>, <strong>Cargo</strong> o <strong>Desde</strong>
                            </div>
                        </div>

                        <div class="buttons">
                            <button type="submit" class="btn btn-cargo">Registrar Cargo</button>
                            <button type="button" class="btn btn-secondary" onclick="cargosSistema.limpiarFormulario()">Limpiar Formulario</button>
                        </div>
                    </form>
                </div>

                <div class="list-container">
                    <div class="list-header">
                        <h3>üìö Historial de Cargos</h3>
                        <button type="button" class="btn btn-excel" onclick="cargosSistema.exportarExcel()">
                            üìä Descargar Excel
                        </button>
                    </div>
                    
                    <div class="contador">
                        Total de cargos registrados: <strong id="totalCargos">0</strong>
                    </div>
                    
                    <div id="listaCargos" class="lista-items"></div>
                </div>

                <div class="navigation-buttons">
                    <button type="button" class="btn btn-volver" onclick="cargosSistema.volverAlSistema()">
                        ‚Üê Regresar al Sistema Principal
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/cargos.js"></script>
</body>
</html>